<html>
    <head>
        
        <script src="../Babylon.js-master/dist/babylon.js"></script>
        <script src="../Babylon.js-master/dist/loaders/babylonjs.loaders.min.js"></script>
        <script src="../Babylon.js-master/dist/gui/babylon.gui.js"></script>
        <script src="../Babylon.js-master/dist/loaders/babylon.objFileLoader.js"></script>
        <script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>
        <script src="jquery-1.7.js"></script>
        <script src="../main/test/main.js"></script>
        <style>
            body{
                display: flex;
                flex-direction: flex-star;
                justify-content: center;
                align-items: center;
                margin: 0px;
                padding: 0px;
            }
            #show1{
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body>
        <canvas id="show1" touch-action="none"></canvas>
        
    </body>
    <script>
        var canvas = document.getElementById("show1"); // 创建画布 
        var engine = new BABYLON.Engine(canvas, true); // 创建渲染引擎
        var scene = new BABYLON.Scene(engine);
        scene.clearColor = new BABYLON.Color3( .5, .5, .5);

        //Universal_Camera
        var camera = new Universal_Camera(scene,canvas);
        camera.create_camera();
        camera.set_position(new BABYLON.Vector3(3,3,3));
        camera.set_target(new BABYLON.Vector3(1,1,1));

        

        // lights
        var light = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(0, 1, 0), scene);
        light.intensity = 0.8;

        //TEST
        var test_box = BABYLON.MeshBuilder.CreateBox("arm1", {height:0.75, width:0.3, depth:0.1875 }, scene);

        var gameobj=new MMYObject(scene);
        gameobj.set_mesh(test_box);
        gameobj.show_ground();
        gameobj.show_axis();
        gameobj.set_position_all(new BABYLON.Vector3(1,0,1));
        gameobj.set_collision(true);


        //TEST
        /**/
        var wa=new World_Axis(scene,300);
        wa.create_axis();

        //TEST
        var wg=new World_Ground(scene,300);
        wg.create_ground();

        //TEST
        var advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("ui1");

        //label
        /*var label = new MMYLabel(advancedTexture);
        //label.create_label_st1("This line spacing is set",70,60,"#8B0000",12);
        label.create_label_st2("This line spacing is set",70,70,"#F5F5F5",12);
        label.link_obj(gameobj);*/

        //radio
        /*var radio=new MMYRadio(advancedTexture);
        radio.create_radio_group();
        radio.create_radio(10,"Test",30,20,10);
        radio.create_radio(10,"Test",30,20,10);*/

        //checkbox
        /*var check=new MMYChecked(advancedTexture);
        check.create_check(10,"Test",25,20,true,10);*/
        
        //slider
        /*var slider=new MMYSlider(advancedTexture);
        slider.create_slider_st2(200,20,0,100,50);
        slider.set_alpha(0.4);*/

        //pointer
        /*var pointer=new MMYText_Pointer(advancedTexture);
        pointer.create_text_pointer(gameobj,"Test",30,100,150);
        //pointer.create_text_pointer_ori(gameobj,"Test",30,100,150);
        //pointer.hidden_pointer();
        //pointer.show_pointer();*/

        //image_pointer
        /*var pointer=new MMYImage_Pointer(advancedTexture);
        pointer.create_image_pointer(gameobj,"./grass.png",30,100,150);
        //pointer.create_image_pointer_ori(gameobj,"./grass.png",30,100,150);*/

        //button_pointer
        /*var pointer=new MMYButton_Pointer(advancedTexture);
        pointer.create_button_pointer(gameobj,"Test",30,100,150);
        //pointer.create_image_button_pointer(gameobj,"./grass.png",30,100,150);*/



        //button
        /*var button=new MMYButton(advancedTexture);
        //button.create_button_st1("Test",70,30,"error",12,5,1,"./grass.png");
        button.create_button_st1("Test",70,30,"error",12,5);
        //button.set_position(20,20);
        //button.link_obj(gameobj);
        //button.set_link_offset(10,0);
        //button.create_button_image("./grass.png",70,30,5,"error",0);*/

        
        //碰撞
        scene.collisionsEnabled = true;
        
        engine.runRenderLoop(function(){
            scene.render();  // 渲染场景
        });
        window.addEventListener("resize", function(){
            engine.resize();
        });



        

    </script>
</html>